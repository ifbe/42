<arena>
opengl{
fmt:win
title:"42"
width:1024
height:1024
depth:1024
}

usbuvc{
fmt:cam
file:/dev/video0
}
</arena>


<actor>

#realworld
realwnd{
fmt:tv
}
realcam{
fmt:cam
}
realworld{
fmt:reality
}

#virtworld
video{
fmt:video
}
freecam{
fmt:freecam
}
3dworld{
fmt:3dworld
}

#gl41
thectx{
fmt:gl41data
}
thewnd{
fmt:gl41wnd0
}
</actor>


<style>
#things in reality (mm)
realarea{
c: 0.0, 0.0, 1000.0
r: 728.0, 0.0, 0.0
f: 0.0, 50.0, 0.0
t: 0.0, 0.0, 420.0
}
realbox{
c: 0.0, 0.0, 1500.0
r: -50.0, 0.0, 0.0
f: 0.0, -50.0, 0.0
t: 0.0, 0.0, 50.0
}

#things in virtual (px)
virtarea{
c: 0.0, 0.0, 0.0
r: 1000.0, 0.0, 0.0
f: 0.0, 1000.0, 0.0
t: 0.0, 0.0, 1000.0
}
freexxxx{
}
freegeom{
r: 1.0, 0.0, 0.0
t: 0.0, 1.0, 0.0
f: 0.0, 0.0, -1.0
c: 0.0, 0.0, 1000.0
}
freefrus{
l: 0.0, 0.0, 0.0, -1.0
r: 0.0, 0.0, 0.0, 1.0
b: 0.0, 0.0, 0.0, -1.0
t: 0.0, 0.0, 0.0, 1.0
n: 0.0, 0.0, 0.0, 1.0
f: 0.0, 0.0, 0.0, 1000000000.0
}
freerect{
c:0.0, 0.0
q:1.0, 1.0
}
</style>


<relation>
#realworld depends on inner objects
(realworld, realarea, act, 0) -> (realwnd, 0, act, 0)
(realworld, realbox, act, 0) -> (realcam, 0, act, 0)

#virtworld depends on inner objects
(3dworld, virtarea, act, 0) -> (video, 0, act, 0)
(3dworld, freegeom, act, 0) -> (freecam, freexxxx, act, 0)


#video depends on usbuvc
(video, 0, act, 0) -> (usbuvc, 0, act, 0)

#usbuvc depends on realcam
(usbuvc, 0, act, 0) -> (realcam, 0, act, 0)


#glctx depends on scene
(thectx, 0, act, 0) -> (3dworld, 0, act, 0)

#glwnd depends on ctx + cam
(thewnd, 0, act, 0) -> (thectx, 0, act, 0)
(thewnd, freerect, act, 0) -> (freecam, freefrus, act, 0)

#opengl depends on ctx + wnd
(opengl, 0, win, ctx) -> (thectx, 0, act, 0)
(opengl, 0, win, wnd) -> (thewnd, 0, act, 0)

#realwnd depends on opengl
(realwnd, 0, act, 0) -> (opengl, 0, win, 0)
</relation>