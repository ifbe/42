CC:=gcc
CF:="-c -O2 -fPIC -I.."
DIR:=$(shell pwd)
SRC= \
libai/ann/libai.ann.c \
libai/cnn/libai.cnn.c \
libai/rnn/libai.rnn.c \
libai/lstm/libai.lstm.c \
libtext/liblang/assembly/asm.x64.c \
libtext/liblang/assembly/asm.arm.c \
libtext/liblang/program/prog.purec.c \
libtext/liblang/program/prog.cpp.c \
libtext/liblang/lang.c \
libtext/libstr/conv/conv.arg.c \
libtext/libstr/conv/conv.ascii.c \
libtext/libstr/conv/conv.bigint.c \
libtext/libstr/conv/conv.file.c \
libtext/libstr/conv/conv.num.c \
libtext/libstr/conv/conv.print.c \
libtext/libstr/conv/conv.url.c \
libtext/libstr/conv/conv.utf8.c \
libtext/libstr/count/count.item.c \
libtext/libstr/count/count.line.c \
libtext/libstr/diff/diff.cmp.c \
libtext/libstr/diff/diff.wild.c \
libtext/libstr/move/move.copy.c \
libtext/libstr/move/move.swap.c \
libtext/notation/nota.calc.c \
libtext/notation/nota.postfix.c \
libtext/notation/nota.prefix.c \
libalgo/crypt/crypt.aes.c \
libalgo/crypt/crypt.des.c \
libalgo/crypt/crypt.rsa.c \
libalgo/encdec/encdec.base64.c \
libalgo/encdec/encdec.qrcode.c \
libalgo/graph/graph.forcedirected.c \
libalgo/graph/graph.kruskal.c \
libalgo/graph/graph.prim.c \
libalgo/hash/hash.crc8.c \
libalgo/hash/hash.crc16.c \
libalgo/hash/hash.crc32.c \
libalgo/hash/hash.md5.c \
libalgo/hash/hash.sha1.c \
libalgo/hash/hash.sha256.c \
libalgo/hash/hash.sha512.c \
libalgo/hash/hash.string.c \
libalgo/keyexch/keyexch.dh.c \
libalgo/keyexch/keyexch.x25519.c \
libalgo/linear/linear.disjoint.c \
libalgo/linear/linear.memory.c \
libalgo/linear/linear.queue.c \
libalgo/linear/linear.stack.c \
libalgo/matching/match.bm.c \
libalgo/matching/match.kmp.c \
libalgo/matching/match.rough.c \
libalgo/solve/solve.2048.c \
libalgo/solve/solve.chess.c \
libalgo/solve/solve.maze.c \
libalgo/solve/solve.pcbwire.c \
libalgo/solve/solve.rubik.c \
libalgo/solve/solve.snake.c \
libalgo/solve/solve.sudoku.c \
libalgo/solve/solve.tetris.c \
libalgo/solve/solve.xiangqi.c \
libalgo/sorting/sort.bubble.c \
libalgo/sorting/sort.gnome.c \
libalgo/sorting/sort.heap.c \
libalgo/sorting/sort.insert.c \
libalgo/sorting/sort.merge.c \
libalgo/sorting/sort.quick.c \
libalgo/sorting/sort.select.c \
libalgo/transform/trfm.cosine.c \
libalgo/transform/trfm.fourier.c \
libalgo/transform/trfm.laplace.c \
libalgo/tree/tree.binary.c \
libalgo/tree/tree.redblack.c \
libalgo/tree/tree.bplus.c \
libauto/dataio/vehicleio.c \
libauto/estimate/filter/filter.kalman.c \
libauto/control/motor/motor.foc.c \
libchem/chem.equation.c \
libfile/certificate/cert.pem.c \
libfile/certificate/cert.x509.c \
libfile/codec/video/codec.h264.c \
libfile/compress/comp.7z.c \
libfile/compress/comp.cpio.c \
libfile/compress/comp.gz.c \
libfile/compress/comp.tar.c \
libfile/compress/comp.zip.c \
libfile/document/doc.doc.c \
libfile/document/doc.docx.c \
libfile/document/doc.latex.c \
libfile/document/doc.pdf.c \
libfile/document/doc.ppt.c \
libfile/document/doc.pptx.c \
libfile/document/doc.xls.c \
libfile/document/doc.xlsx.c \
libfile/electronic/allegro/allegro.brd.c \
libfile/electronic/allegro/allegro.dsn.c \
libfile/electronic/altium/altium.pcbdoc.c \
libfile/electronic/altium/altium.schdoc.c \
libfile/electronic/kicad/kicad.kicad_sch.c \
libfile/electronic/kicad/kicad.kicad_pcb.c \
libfile/executable/exec.elf.c \
libfile/executable/exec.macho.c \
libfile/executable/exec.pe.c \
libfile/filesystem/fs.ext.c \
libfile/filesystem/fs.fat.c \
libfile/filesystem/fs.hfs.c \
libfile/filesystem/fs.ntfs.c \
libfile/font/font.fon.c \
libfile/font/font.otf.c \
libfile/font/font.ttf.c \
libfile/model/model.3mf.c \
libfile/model/model.dwg.c \
libfile/model/model.stl.c \
libfile/parttable/pt.apple.c \
libfile/parttable/pt.gpt.c \
libfile/parttable/pt.mbr.c \
libfile/vdisk/disk.raw.c \
libfile/vdisk/disk.vhd.c \
libfile/vdisk/disk.vmdk.c \
libmedia/0subtitle/subtitle.ass.c \
libmedia/0subtitle/subtitle.srt.c \
libmedia/1audio/audio.pcm.c \
libmedia/1audio/audio.ape.c \
libmedia/1audio/audio.mp3.c \
libmedia/1audio/audio.ogg.c \
libmedia/1audio/audio.wav.c \
libmedia/1audio/tone.drum.c \
libmedia/1audio/tone.flute.c \
libmedia/1audio/tone.piano.c \
libmedia/1audio/tone.violin.c \
libmedia/1audioconv/audioconv.pcm.c \
libmedia/2picture/pic.bmp.c \
libmedia/2picture/pic.flif.c \
libmedia/2picture/pic.heif.c \
libmedia/2picture/pic.jpg.c \
libmedia/2picture/pic.png.c \
libmedia/2picconv/image.img2pbr.c \
libmedia/2picconv/image.rotate.c \
libmedia/2picconv/image.scale.c \
libmedia/2picconv/image.picfmt.c \
libmedia/2picconv/image.sobel.c \
libmedia/3anim/picanim.annexb.c \
libmedia/3anim/picanim.gif.c \
libmedia/3anim/picanim.webp.c \
libmedia/4composite/media.avi.c \
libmedia/4composite/media.flv.c \
libmedia/4composite/media.mkv.c \
libmedia/4composite/media.mp4.c \
libmedia/4composite/media.rmvb.c \
libfile/filetype.c \
libfile/fileauto.c \
libfile/filemgr.c \
libnet/0.phy/phy.bt.c \
libnet/0.phy/phy.eth.c \
libnet/0.phy/phy.raw.c \
libnet/0.phy/phy.wlan.c \
libnet/1.link/link.arp.c \
libnet/1.link/link.pppoe.c \
libnet/1.link/link.slip.c \
libnet/2.net/net.icmpv4.c \
libnet/2.net/net.icmpv6.c \
libnet/2.net/net.igmp.c \
libnet/2.net/net.ipv4.c \
libnet/2.net/net.ipv6.c \
libnet/2.net/net.ipx.c \
libnet/3.tran/tran.tcp.c \
libnet/3.tran/tran.udp.c \
libnet/4.use/udp/udp.bootp.c \
libnet/4.use/udp/udp.dhcp.c \
libnet/4.use/udp/udp.dns.c \
libnet/4.use/udp/udp.ntp.c \
libnet/4.use/udp/udp.quic.c \
libnet/4.use/udp/udp.tftp.c \
libnet/4.use/udp/udp.trav.c \
libnet/4.use/tcp/tcp.dl.c \
libnet/4.use/tcp/tcp.ftp.c \
libnet/4.use/tcp/tcp.fuckgfw.c \
libnet/4.use/tcp/tcp.party.c \
libnet/4.use/tcp/tcp.proxy.c \
libnet/4.use/tcp/tcp.rdp.c \
libnet/4.use/tcp/tcp.rtmp.c \
libnet/4.use/tcp/tcp.sql.c \
libnet/4.use/tcp/tcp.socks.c \
libnet/4.use/tcp/tcp.ssh.c \
libnet/4.use/tcp/tcp.telnet.c \
libnet/4.use/tcp/tcp.tls1_2.c \
libnet/4.use/tcp/tcp.tls1_3.c \
libnet/4.use/tcp/tcp.trav.c \
libnet/4.use/tcp/tcp.vnc.c \
libnet/4.use/tcp/tcp.ws.c \
libnet/4.use/any/http1.c \
libnet/4.use/any/http2.c \
libnet/4.use/any/http3.c \
libflow/ahrs/ahrs.only_g.c \
libflow/ahrs/ahrs.only_ga.c \
libflow/ahrs/ahrs.mahony.c \
libflow/ahrs/ahrs.madgwick.c \
libflow/ahrs/ahrs.ekf.c \
libflow/ahrs/ahrs.ukf.c \
libflow/file/stream.test.pump.c \
libflow/file/stream.test.stor.c \
libflow/html/stream.help.control.c \
libflow/html/stream.help.crawler.c \
libflow/html/stream.help.search.c \
libflow/html/stream.help.vt100.c \
libflow/stream/stream.conv.qu2eu.c \
libflow/stream/stream.conv.str2vec.c \
libflow/stream/stream.mux.easy.c \
libflow/stream/stream.mux.media.c \
libflow/stream/stream.parse.gcode.c \
libflow/stream/stream.parse.mavlink.c \
libflow/stream/stream.parse.nema0183.c \
libflow/stream/stream.revise.recut.c \
libflow/stream/stream.revise.renalu.c \
libflow/stream/stream.revise.reline.c \
libflow/stream/stream.revise.reorder.c \
libflow/stream/stream.test.echo.c \
libflow/stream/stream.test.goslow.c \
libflow/stream/stream.test.dbgf32.c \
libflow/stream/stream.test.dbghex.c \
libflow/stream/stream.test.fftpcm.c \
libflow/stream/stream.test.fftrgb.c \
libmath/libmath.bigint.c \
libmath/libmath.matrix.c \
libmath/libmath.notation.c \
libmath/libmath.prime.c \
libmath/libmath.rotation.c \
libmath/libmath.vector.c \
libmath/libmath.triangle.c \
libphys/phys.elec.c \
libphys/phys.mech.c \
libphys/phys.rigid.c \
libphys/phys.fluid.c \
artery.c
OBJ = $(patsubst %.c,%.o,$(SRC))

target: $(OBJ)

%.o: %.c
	if [ $(DIR)/$(notdir $@) -nt $< ]; then \
		true;\
	else \
		echo libsoft1/$<;\
		$(CC) $(CF) -o $(DIR)/$(notdir $@) $<;\
	fi


clean:
	rm -f *.o *.a
